# Capítulo 2. Fundamentos de la arquitectura multiinquilino

A medida que avance en este libro, se dará cuenta de que la arquitectura SaaS viene en muchas formas y tamaños. Existen innumerables permutaciones de patrones y estrategias de arquitectura que se componen para crear la arquitectura SaaS que mejor se alinea con el dominio, el cumplimiento y las realidades comerciales de una empresa SaaS.
Sin embargo, existen algunos temas centrales que abarcan todas las arquitecturas SaaS. En este capítulo, comenzaremos nuestro viaje arquitectónico construyendo una base de terminología y construcciones arquitectónicas que se utilizarán a medida que exploremos modelos arquitectónicos específicos. En muchos aspectos, los conceptos que cubriremos aquí representarán su guía para construir sistemas SaaS, proporcionándole un conjunto básico de temas y preguntas que deberá abordar como parte de cualquier entorno SaaS.
Comprender firmemente estos principios básicos de la arquitectura es clave para desarrollar una comprensión sólida de los elementos de los entornos SaaS, lo que le permitirá tener una idea del panorama de los desafíos de la arquitectura SaaS. El objetivo aquí es aportar claridad a estos conceptos e ilustrar cómo el arrendamiento múltiple extiende o altera su enfoque de sus estrategias de arquitectura existentes. Probablemente ya tenga nociones sólidas de lo que significa escalar, proteger, diseñar y operar una arquitectura sólida. Con SaaS, tenemos que observar cómo la multiinquilino influye y superpone estos conceptos clave, a menudo introduciendo nuevos principios que introducen un conjunto completamente nuevo de limitaciones y consideraciones que darán forma a la forma en que se aborda la arquitectura de una oferta SaaS.
Agregar arrendamiento a su arquitectura
Comencemos nuestra exploración de los conceptos de arquitectura SaaS observando una aplicación tradicional que no es SaaS. En las aplicaciones clásicas, el entorno se construye desde cero con el supuesto de que será instalado y ejecutado por clientes individuales. Básicamente, cada cliente tiene su propia huella dedicada. La Figura 2-1 proporciona una vista conceptual de cómo se podría diseñar y construir una de estas aplicaciones.
[￼ La Figura 2-1 ](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_01.png)
Figura 2-1. Entornos tradicionales no SaaS
Aquí a la izquierda, verá que tenemos una vista simplificada de una solicitud de clase. Aquí, esta aplicación se crea y luego se vende a clientes individuales. Estos clientes pueden instalar el software en su propio entorno o ejecutarlo en la nube. Este enfoque simplifica todo el modelo arquitectónico de este entorno. Las opciones sobre cómo los clientes ingresan al entorno, cómo acceden a nuestros recursos y cómo consumen los servicios de nuestro entorno son mucho más simples cuando sabemos que se ejecutarán en un entorno dedicado a cada cliente. La mentalidad general aquí es que tienes un software y simplemente estás eliminando copias del mismo para cada nuevo cliente.
Ahora, pensemos en lo que significa entregar esta misma aplicación en un entorno SaaS multiinquilino. El diagrama de la Figura 2-2 proporciona una vista conceptual de cómo podría verse esto. Verá aquí que nuestros clientes, que ahora son inquilinos, consumen todos la misma aplicación.
￼
[Figura 2-2](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_02.png). 

El cambio hacia una experiencia centrada en el inquilino
Este cambio puede parecer bastante simple en el diagrama. Sin embargo, tiene un profundo impacto en la forma en que diseñamos, construimos, protegemos y gestionamos este entorno. Básicamente, hemos realizado la transición de un modelo dedicado por cliente a una arquitectura multiinquilino. El soporte de este modelo llega a todas las dimensiones de la implementación subyacente de su sistema. Afecta la forma en que implementa la autenticación, el enrutamiento, el escalado, el rendimiento, el almacenamiento y, en áreas específicas, cómo codifica la lógica de la aplicación de su sistema.
Como arquitecto y constructor de SaaS, su trabajo es determinar cómo su sistema admitirá esta noción de arrendamiento. En algunos casos, la influencia aquí puede introducirse como una extensión de patrones y estrategias existentes. En otros casos, puede requerir que cree y diseñe todas las construcciones nuevas que deben agregarse para satisfacer las necesidades de una configuración de múltiples inquilinos.
Parte del desafío aquí es que existe una amplia gama de parámetros que influirán en cómo esta noción de arrendamiento termina aterrizando en su entorno. La clave, en esta etapa, es comprender los conceptos fundamentales de la arquitectura y luego observar cómo las diferentes dimensiones de su entorno podrían influir en cómo se expresan estos conceptos en un entorno determinado. Entonces, al menos por el momento, mantengámonos al margen de estas consideraciones ambientales y centrémonos directamente en construir una base de arquitectura SaaS que nos brinde la terminología y taxonomía de construcciones que podemos usar para caracterizar las diferentes partes móviles y mecanismos que deberían funcionar. estar en el vocabulario de todo arquitecto y constructor de SaaS.
Las dos mitades de toda arquitectura SaaS
Si nos alejamos de los detalles de SaaS, normalmente encontramos que cada entorno SaaS, independientemente de su dominio o diseño, se puede dividir en dos mitades muy distintas. De hecho, a lo largo de toda nuestra discusión sobre SaaS en este libro, encontrará que usaremos estas dos mitades como la lente a través de la cual veremos cómo se construye, implementa y opera un sistema multiinquilino.
La Figura 2-3 proporciona una representación conceptual de las dos mitades de SaaS. En el lado derecho del diagrama, verá lo que está etiquetado como plano de control. El plano de control es donde ubicaremos todas las construcciones, servicios y capacidades transversales que respaldan las necesidades fundamentales de un entorno SaaS multiinquilino.
￼
[Figura 2-3](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_03.png). 
Planos de control y aplicación SaaS

A menudo describimos el plano de control como el único panel de vidrio que se utiliza para orquestar y operar todas las partes móviles de su solución SaaS. Es fundamental para permitir muchos de los principios que son esenciales para el éxito de su negocio SaaS. Conceptos como la incorporación de inquilinos, la facturación, las métricas y una serie de otros servicios se encuentran en este plano de control. También verás que nuestro plano de control incluye una aplicación de administración. Esto representa la experiencia de consola o administración que utiliza un proveedor de SaaS para configurar, administrar y operar su entorno SaaS.
Una advertencia interesante aquí es que los servicios que se ejecutan en el plano de control no están creados ni diseñados como servicios multiinquilino. Si lo piensas bien, en realidad no hay nada de multiinquilino en las capacidades del plano de control. No tiene una funcionalidad que satisfaga las necesidades de los inquilinos individuales. En cambio, proporciona servicios y funcionalidades que abarcan a todos los inquilinos.
Si bien los arquitectos y constructores a menudo se sienten tentados a comenzar la discusión sobre SaaS con los aspectos multiinquilino de su aplicación, los cimientos de su arquitectura SaaS a menudo comienzan con el plano de control. En muchos aspectos, el plano de control proporciona una función forzada, lo que requiere que los ingenieros incorporen y respalden los matices del arrendamiento desde el inicio de su desarrollo.
Por el contrario, el plano de la aplicación es donde cobran vida las características y funcionalidades de su servicio SaaS. Aquí es donde vemos la manifestación de todos los principios multiinquilino que se asocian clásicamente con los entornos SaaS. Es aquí donde centramos más nuestra atención en cómo el arrendamiento múltiple dará forma al diseño, la funcionalidad, la seguridad y el rendimiento de nuestro servicio y sus recursos subyacentes. Nuestro tiempo y energía en el plano de las aplicaciones se centran directamente en identificar y elegir las tecnologías, los servicios de aplicaciones y los patrones de arquitectura que mejor se alinean con los parámetros de su entorno, cronogramas y negocios. Aquí es donde invierte su energía en crear una huella de aplicación que adopte la agilidad y permita que la empresa admita una variedad de personas y modelos de consumo.
Es importante tener en cuenta que no existe un diseño, arquitectura o modelo único para el plano de aplicación. Tiendo a ver el plano de la aplicación como un lienzo en blanco que se pinta en función de la composición única de servicios y capacidades que requiere mi servicio SaaS. Sí, hay temas y patrones que veremos que abarcan las arquitecturas de aplicaciones SaaS. De hecho, al final de este libro, seguramente tendrá un sano respeto por el grado en que las aplicaciones SaaS pueden variar de una solución a otra. Las realidades empresariales, de dominio y heredadas se encuentran entre una larga lista de factores que pueden influir en la forma de su estrategia de aplicaciones multiinquilino.
Esta visión de las dos mitades de SaaS se alinea con el modelo mental de arrendamiento múltiple que analizamos en el Capítulo 1. Nuestro plano de aplicación podría compartir toda la infraestructura de inquilinos o podría tener una infraestructura completamente dedicada y no importaría. Siempre que tengamos un plano de control que administre y opere estos entornos de inquilinos a través de una experiencia unificada, entonces lo consideraremos un entorno de múltiples inquilinos.
Esta separación de preocupaciones también influye en nuestro modelo mental sobre cómo se actualizan y evolucionan los elementos de nuestro entorno SaaS. Los servicios y capacidades del plano de control se versionan, actualizan e implementan en función de las necesidades del proveedor de SaaS, proporcionando una gama de servicios que reducen la fricción, permiten operaciones centralizadas y brindan información sobre todo el sistema que se utiliza para analizar la actividad. , escalamiento y patrones de consumo de todos sus inquilinos. Mientras tanto, nuestro plano de aplicación está siendo impulsado más por las necesidades y la experiencia de los inquilinos del sistema. Aquí, se introducen actualizaciones e implementaciones para proporcionar nuevas funciones, mejorar el rendimiento de los inquilinos, admitir nuevas estrategias de niveles, etc.
Juntas, estas dos mitades de SaaS representan los componentes básicos más fundamentales de cualquier entorno SaaS. Comprender las funciones de estos planos tendrá una influencia significativa en cómo abordará la arquitectura, el diseño y la descomposición de su oferta SaaS.
Dentro del plano de control
Ahora que tenemos una mejor idea de las funciones de los planos de control y aplicación, demos un paso de alto nivel para explorar los conceptos centrales que comúnmente se encuentran dentro del alcance del plano de control. Profundizaremos en cada uno de estos temas con mucho más detalle más adelante en este libro, explorando estrategias de arquitectura e implementación en el mundo real. Sin embargo, en esta etapa necesitamos comenzar a subir de nivel y desarrollar una comprensión de los diferentes componentes que forman parte de cualquier plano de control que puedas construir. Tener un mayor nivel de comprensión de estos componentes, las funciones que desempeñan y cómo se relacionan nos permitirá explorar estos componentes básicos del multiinquilino sin distraernos con los diferentes matices que aparecen cuando giramos hacia las influencias específicas de las tecnologías. , idiomas y consideraciones de dominio. Tener esta visión fundamental le permitirá ver el panorama de opciones y comenzar a ver los diferentes componentes que abarcan todos los modelos de arquitectura SaaS.
El siguiente es un desglose de los diferentes servicios y capacidades que probablemente aparecerán en el plano de control de su arquitectura SaaS, que cubre la incorporación, la identidad, las métricas, la facturación y la gestión de inquilinos.
### Onbording
El plano de control es responsable de gestionar y orquestar todos los pasos necesarios para introducir un nuevo inquilino en su entorno SaaS. A primera vista, esto puede parecer un concepto simple. Sin embargo, como verá en el Capítulo 4, hay muchas partes móviles en la experiencia de incorporación. Las decisiones que tome aquí, en muchos aspectos, son fundamentales para habilitar muchos de los elementos de diseño y negocios multiinquilino de su entorno SaaS.
En esta etapa, sigamos con una visión de alto nivel de los elementos clave de la experiencia de incorporación. En la Figura 2-4 verá una representación conceptualizada de los componentes que desempeñan un papel en la experiencia de incorporación. Aquí mostramos a un inquilino que se registra en nuestro servicio SaaS y activa el proceso de incorporación a través del plano de control. Después de esta solicitud inicial, el plano de control posee el resto del flujo de incorporación, creando y configurando nuestro inquilino y su huella de identidad correspondiente. Esto incluye asignar un identificador único a nuestro inquilino que se aprovechará en la mayoría de las partes móviles de nuestra arquitectura multiinquilino.
￼
[Figura 2-4](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_04.png). Incorporación de inquilinos
También notará que mostramos el plano de control interactuando con el plano de la aplicación, aprovisionando y configurando cualquier recurso específico de la aplicación que pueda ser necesario para cada inquilino. Cuando entremos en vistas más detalladas de ejemplos de principios de incorporación, veremos cómo esta parte de la experiencia de incorporación puede volverse bastante complicada.
Si bien existen temas comunes en la experiencia de incorporación, la implementación real de la incorporación puede variar significativamente según el dominio en el que se encuentre, los objetivos comerciales de su solución y la huella de la arquitectura de su aplicación. Sin embargo, la clave aquí es que la incorporación representa un concepto fundamental que se encuentra en la puerta de entrada de su experiencia SaaS. Los equipos empresariales pueden y deben tener gran interés en dar forma e influir en la forma en que aborda la construcción de este aspecto de su sistema.
La conclusión de nivel superior aquí es que la incorporación es fundamental para crear y conectar los elementos más básicos de un entorno multiinquilino: inquilinos, usuarios, identidad y recursos de aplicaciones de inquilinos. La incorporación entrelaza estos conceptos y establece las bases para introducir el arrendamiento en todas las partes móviles de su entorno SaaS.
### Identidad
A primera vista, quizás se pregunte por qué la identidad pertenece a la historia de SaaS. Es cierto que existen muchas soluciones de identidad diferentes que puede utilizar para construir su solución SaaS. Incluso podría sugerir que su proveedor de identidad pertenece de alguna manera fuera del alcance de nuestra discusión sobre el plano de control. Sin embargo, resulta que el arrendamiento múltiple y el plano de control a menudo tienen un vínculo bastante estrecho con su arquitectura SaaS. El diagrama de la Figura 2-5 proporciona una vista simplificada de cómo se aplica la identidad en entornos multiinquilino.
￼
[Figura 2-5](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_05.png). Vincular usuarios a una identidad de inquilino
A la izquierda verá la noción clásica de identidad de usuario que normalmente se asocia con la autenticación y la autorización. Es cierto que nuestro usuario de SaaS se autenticará en nuestro sistema SaaS. Sin embargo, en un entorno multiinquilino, poder autenticar a un usuario no es suficiente. Un sistema SaaS debe saber quién es usted como usuario y también debe poder vincular a ese usuario con un inquilino. De hecho, cada usuario que inicia sesión en nuestro sistema debe estar asociado de alguna manera a un inquilino.
Esta vinculación de usuario/inquilino termina agregando un problema a la experiencia de identidad general de nuestro sistema, lo que requiere que los arquitectos y constructores desarrollen estrategias para vincular estos dos conceptos de una manera que aún se ajuste a los requisitos de su modelo de autenticación general. Esto se vuelve aún más complicado cuando empezamos a pensar en cómo podríamos admitir modelos de identidad federados en entornos multiinquilino. Veremos que cuanto más la experiencia de identidad se sale de nuestro control, más complejo y desafiante se vuelve soportar este vínculo entre usuarios e inquilinos. En algunos casos, es posible que se encuentre introduciendo construcciones para unir estos dos conceptos.
Cuando profundicemos en la incorporación y la identidad en el Capítulo 4, tendrá una mejor idea del papel clave que desempeña la identidad en la historia más amplia de múltiples inquilinos. Obtener la identidad correcta es esencial para desarrollar una estrategia nítida y eficiente para introducir inquilinos en su arquitectura SaaS. Las políticas y patrones que aplique aquí tendrán un impacto en cascada en muchas de las partes móviles de su diseño e implementación.
### Métrica
Cuando su aplicación se ejecuta en un modelo multiinquilino, resulta más difícil crear una imagen clara de cómo sus inquilinos utilizan su sistema. Si comparte infraestructura, por ejemplo, es muy difícil saber qué inquilinos consumen actualmente esa infraestructura y cómo la actividad de los inquilinos individuales podría estar afectando la escala, el rendimiento y la disponibilidad de su solución. La población de inquilinos que utilizan su sistema también puede estar cambiando constantemente. Se pueden agregar nuevos inquilinos. Es posible que los inquilinos existentes se estén yendo. Esto puede hacer que operar y soportar entornos multiinquilino sea particularmente desafiante.
Estos factores hacen que sea especialmente importante para las empresas de SaaS invertir en la creación de una experiencia rica en métricas y análisis como parte de su plano de control. El objetivo aquí es crear un centro centralizado para capturar y agregar la actividad de los inquilinos que permita a los equipos monitorear y analizar el perfil de uso y consumo de los inquilinos individuales.
El papel de las métricas aquí es muy amplio. Los datos recopilados se utilizarán en un contexto operativo, lo que permitirá a los equipos medir y solucionar problemas del estado del sistema. Los propietarios de productos pueden utilizar estos datos para evaluar el consumo de funciones específicas. Los equipos de éxito del cliente pueden utilizar estos datos para medir el tiempo de generación de valor de un nuevo cliente. La idea aquí es que los equipos SaaS exitosos utilicen estos datos para impulsar el éxito comercial, operativo y tecnológico de su oferta SaaS.
Puede imaginar cómo las métricas afectarán la arquitectura y la implementación de muchas de las partes móviles de su sistema multiinquilino. Los desarrolladores de microservicios deberán pensar en cómo y dónde agregarán instrumentación de métricas. Los equipos de infraestructura deberán decidir cómo y dónde sacarán a la luz la actividad de infraestructura. La empresa deberá intervenir y ayudar a capturar las métricas que puedan medir la experiencia del cliente. Estos son sólo algunos ejemplos de una larga lista de áreas donde las métricas pueden influir en su implementación.
El inquilino debe estar en el centro de esta estrategia de métricas. Tener datos sobre el consumo y la actividad tiene mucho menos valor si no se pueden filtrar, analizar y ver a través de la lente de los inquilinos individuales.
### Facturación
La mayoría de los sistemas SaaS dependen en cierta medida de un sistema de facturación. Este podría ser un sistema de facturación propio o podría ser cualquiera de los sistemas de facturación SaaS comerciales que están disponibles en diferentes proveedores de facturación. Independientemente del enfoque, se puede ver cómo la facturación es un concepto central que tiene un lugar natural dentro del plano de control.
La facturación tiene un par de puntos de contacto dentro del plano de control. Por lo general, está relacionado con la experiencia de incorporación en la que cada nuevo inquilino debe crearse como un "cliente" dentro de su sistema de facturación. Esto podría incluir la configuración del plan de facturación del inquilino y la configuración de otros atributos del perfil de facturación del inquilino.
Muchas soluciones SaaS tienen estrategias de facturación que miden y miden la actividad de los inquilinos como parte de la generación de una factura. Esto podría ser el consumo de ancho de banda, la cantidad de solicitudes, el consumo de almacenamiento o cualquier otro evento relacionado con la actividad asociado con un inquilino determinado. En estos modelos, el plano de control y su sistema de facturación deben proporcionar una forma para que los datos de esta actividad se ingieran, procesen y envíen a su sistema de facturación. Esto podría ser una integración directa con el sistema de facturación o podría introducir sus propios servicios que procesen estos datos y los envíen al sistema de facturación.
Entraremos más en los detalles de la integración de facturación en el Capítulo 16. La clave aquí es darse cuenta de que la facturación probablemente será parte de sus servicios de plano de control y que probablemente introducirá servicios dedicados para orquestar esta integración.
### Gestión de inquilinos
Cada inquilino de nuestro sistema SaaS debe administrarse y configurarse de forma centralizada. En nuestro plano de control, esto está representado por nuestro servicio de Tenant Management. Normalmente, este es un servicio bastante básico que proporciona todas las operaciones necesarias para crear y administrar el estado de los inquilinos. Esto incluye el seguimiento de atributos clave que asocian a los inquilinos con un identificador único, planes de facturación, políticas de seguridad, configuración de identidad y un estado activo/inactivo.
En algunos casos, los equipos pueden pasar por alto este servicio o combinarlo con otros conceptos (identidad, por ejemplo). Es importante que los entornos de múltiples inquilinos tengan un servicio centralizado que administre todo este estado de inquilinos. Esto proporciona un punto único de configuración de inquilinos y les permite administrarlos fácilmente a través de una única experiencia.
Exploraremos más los elementos y permutaciones de la implementación de la gestión de inquilinos en el Capítulo 5.
## Dentro del plano de aplicación
Ahora que tenemos una mejor idea de los conceptos básicos del plano de control, comencemos a observar las áreas comunes donde aparece el arrendamiento múltiple en el plano de aplicación. Si bien el plano de control suele tener un conjunto coherente de servicios comunes, el plano de aplicación es un poco más abstracto. Cómo y dónde se aplica el arrendamiento múltiple dentro del plano de aplicación puede variar significativamente según una amplia gama de factores. Dicho esto, todavía hay una variedad de temas que surgirán, aunque en diferentes formas, dentro de su plano de aplicación. Entonces, aunque hay variaciones aquí, cada arquitecto de SaaS deberá considerar cómo y dónde introducirá estos temas en el plano de aplicación de su solución.
A medida que profundiza en el panel de la aplicación, encontrará que su pila de tecnología y su huella de implementación tendrán una influencia significativa en cómo se aplican estos conceptos. En algunos casos, puede haber soluciones listas para usar que se ajusten exactamente a su caso de uso. En otros casos, es posible que se encuentre inventando soluciones para llenar los vacíos en su pila de tecnología. Si bien crear algo para llenar estos vacíos puede agregar complejidad y gastos generales a la construcción de su solución, en la mayoría de los casos querrá asumir este trabajo adicional para asegurarse de que su solución SaaS no comprometa elementos importantes de su multiinquilino. arquitectura.
En los capítulos siguientes veremos ejemplos de trabajo del mundo real que brindan una visión más concreta de cómo se implementan estas construcciones dentro de su plano de aplicación. Por ahora, sin embargo, subamos de nivel y establezcamos un conjunto básico de principios del plano de aplicación que deberían abarcar todas las arquitecturas SaaS.
## Contexto del inquilino
Uno de los conceptos más fundamentales en nuestro plano de aplicación es la noción de contexto de inquilino. El contexto del inquilino no se corresponde con ninguna estrategia o mecanismo específico. Más bien, es un concepto más amplio que pretende transmitir la idea de que nuestro plano de aplicación siempre está funcionando en el contexto de inquilinos específicos. Este contexto suele representarse como un token o alguna otra construcción que empaqueta todos los atributos de su inquilino. Un ejemplo común que usará aquí es un token web JSON (JWT) que combina su información de usuario e inquilino en una construcción que se comparte entre todas las partes móviles de su arquitectura multiinquilino. Este JWT se convierte en nuestro pasaporte para compartir información del inquilino (contexto) con cualquier servicio o código que dependa de este contexto. Es este token el que se conoce como contexto de inquilino.
Ahora verá que este contexto de inquilino tiene una influencia directa en cómo la arquitectura de su aplicación procesa las solicitudes de inquilino. Esto puede afectar el enrutamiento, el registro, las métricas, el acceso a datos y una serie de otras construcciones que se encuentran dentro del plano de la aplicación. La Figura 2-6 proporciona una vista conceptual del contexto del inquilino en acción.
￼
[Figura 2-6](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_06.png). Aplicar el contexto del inquilino

El flujo de la Figura 2-6 muestra el contexto del inquilino que se aplica en los diferentes servicios y recursos que forman parte de un entorno multiinquilino. Esto comienza en el lado izquierdo del diagrama donde mis inquilinos se autentican con la identidad que se creó durante la incorporación y adquieren su contexto de inquilino. Luego, este contexto se inyecta en un servicio de mi aplicación. Este mismo contexto fluye en cada interacción posterior de mi sistema, lo que le permite adquirir y aplicar ese contexto en una variedad de casos de uso diferentes.
Esto representa una de las diferencias más fundamentales de un entorno SaaS. Nuestros servicios no solo funcionan con los usuarios: deben incorporar el contexto del inquilino como parte de la implementación de todas las partes móviles de nuestra aplicación SaaS. Cada microservicio que escriba utilizará este contexto de inquilino. Su trabajo será descubrir cómo aplicar este contexto de manera efectiva sin agregar demasiada complejidad a la implementación de su sistema. De hecho, este es un tema clave que abordaremos cuando profundicemos en el microservicio SaaS en el Capítulo 8.
Como arquitecto de SaaS, esto significa que siempre debe pensar en cómo se transmitirá el contexto del inquilino en su sistema. También tendrá que pensar en las estrategias tecnológicas específicas que se utilizarán para empaquetar y aplicar este contexto de inquilino de manera que limiten la complejidad y promuevan la agilidad. Este es un acto de equilibrio continuo para los arquitectos y constructores de SaaS.
### Aislamiento de inquilinos
El arrendamiento múltiple, por su propia naturaleza, se centra directamente en colocar a nuestros clientes y sus recursos en entornos donde los recursos puedan compartirse o al menos residir uno al lado del otro en entornos de infraestructura comunes. Esta realidad significa que a menudo se requiere que las soluciones multiinquilino apliquen e implementen medidas creativas para garantizar que los recursos de los inquilinos estén protegidos contra cualquier posible acceso entre inquilinos.
Para comprender mejor los fundamentos de este concepto, veamos una vista conceptual simple de una solución que se ejecuta en nuestro plano de aplicación (que se muestra en la Figura 2-7 ).
￼
[Figura 2-7](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_07.png). Implementar el aislamiento de inquilinos

Aquí verá que tenemos los planos de aplicaciones más simples que ejecutan un único microservicio. Para este ejemplo, nuestra solución SaaS ha optado por crear bases de datos independientes para cada inquilino. Al mismo tiempo, nuestro microservicio comparte su cómputo con todos los inquilinos. Esto significa que nuestro microservicio puede procesar solicitudes de los inquilinos 1 y 2 simultáneamente.
Si bien los datos de nuestros inquilinos se almacenan en bases de datos separadas, no hay nada en nuestra solución que garantice que el inquilino 1 no pueda acceder a la base de datos del inquilino 2. De hecho, este sería el caso incluso si nuestros inquilinos no estuvieran ejecutando Microservicios separados y dedicados.
Para evitar cualquier acceso a los recursos de otro inquilino, nuestro plano de aplicación debe introducir una construcción para evitar este acceso entre inquilinos. Los mecanismos para implementar esto variarán enormemente según una serie de consideraciones diferentes. Sin embargo, el concepto básico, denominado Aislamiento de inquilinos, abarca todas las soluciones posibles. La idea aquí es que cada plano de aplicación debe introducir construcciones específicas que apliquen estrictamente el aislamiento de los recursos de los inquilinos individuales, incluso cuando se estén ejecutando en una construcción compartida.
Profundizaremos en este concepto con gran detalle en el Capítulo 10. No hace falta decir que el aislamiento de inquilinos representa uno de los componentes más fundamentales de la arquitectura SaaS. A medida que desarrolla su plano de aplicación, necesitará encontrar el tipo y el enfoque que le permitan imponer el aislamiento en los distintos niveles de su arquitectura SaaS.
### Partición de datos
Los servicios y capacidades dentro de nuestro plano de aplicaciones a menudo necesitan almacenar datos para los inquilinos. Por supuesto, cómo y dónde elija almacenar esos datos puede variar significativamente según el perfil multiinquilino de su aplicación SaaS. Cualquier número de factores puede influir en su enfoque para almacenar datos. El tipo de datos, sus requisitos de cumplimiento, sus patrones de uso, el tamaño de los datos, la tecnología que está utilizando: todas estas son piezas del rompecabezas del almacenamiento multiinquilino.
En el mundo del almacenamiento multiinquilino, nos referimos al diseño de estos diferentes modelos de almacenamiento como partición de datos. La idea clave aquí es que está eligiendo una estrategia de almacenamiento que particione los datos de los inquilinos en función del perfil multiinquilino de esos datos. Esto podría significar que los datos se almacenan en alguna construcción dedicada o podría significar que aterrizan en alguna construcción compartida. Estas estrategias de partición están influenciadas por una amplia gama de variables. La tecnología de almacenamiento que está utilizando (objeto, relacional, nosql, etc.) obviamente tiene un impacto significativo en las opciones que tendrá para representar y almacenar datos de inquilinos. Los casos de negocio y de uso de su aplicación también pueden influir en la estrategia que seleccione. La lista de variables y opciones aquí es extensa.
Como arquitecto de SaaS, su trabajo será observar la variedad de datos diferentes que almacena su sistema y descubrir qué estrategia de partición se adapta mejor a sus necesidades. También querrá considerar cómo/si estas estrategias podrían afectar la agilidad de su solución. La forma en que los datos afectan la implementación de nuevas funciones, el tiempo de actividad de su solución y la complejidad de su huella operativa son factores que requieren una cuidadosa consideración al seleccionar una estrategia de partición de datos. También es importante tener en cuenta que, a la hora de elegir una estrategia, ésta suele ser una decisión muy detallada. La forma en que particiona los datos puede variar según los diferentes servicios dentro de su plano de aplicación.
Este es un tema mucho más profundo que cubriremos más extensamente en el Capítulo 9. Al final de ese capítulo, tendrás una idea mucho mejor de lo que significa dar vida a una variedad de estrategias diferentes utilizando una variedad de estrategias diferentes. tecnologías de almacenamiento.
### Enrutamiento de inquilinos
En este modelo de arquitectura SaaS, el más simple, es posible que todos los inquilinos compartan sus recursos. Sin embargo, en la mayoría de los casos, su arquitectura tendrá variaciones en las que parte o toda la infraestructura de su inquilino puede estar dedicada. De hecho, no sería raro tener microservicios que se implementen por inquilino.
El punto principal aquí es que a menudo se requiere que las arquitecturas de aplicaciones SaaS admitan una huella distribuida que tenga cualquier cantidad de recursos ejecutándose en una combinación de modelos compartidos y dedicados. La imagen de la Figura 2-8 proporciona un ejemplo simplificado de una arquitectura SaaS que admite una combinación de recursos de inquilinos compartidos y dedicados.
￼
[Figura 2-8](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_08.png). Enrutamiento en el contexto del inquilino

En este ejemplo, tenemos tres inquilinos que realizarán solicitudes para invocar operaciones en nuestros servicios de aplicaciones. En este ejemplo particular, tenemos algunos recursos compartidos y otros dedicados. A la izquierda, el inquilino 1 tiene un conjunto de servicios totalmente dedicado. Mientras tanto, en el lado derecho, verá que tenemos los servicios que utilizan los inquilinos 2 y 3. Aquí, tenga en cuenta que tenemos el producto y los servicios de calificación que comparten ambos inquilinos. Sin embargo, cada uno de estos inquilinos tiene instancias dedicadas del servicio de pedidos.
Ahora, al retroceder y observar la configuración general de estos servicios, puede ver dónde nuestra arquitectura multiinquilino necesitaría incluir estrategias y construcciones que enrutarían correctamente las solicitudes de los inquilinos a los servicios apropiados. Esto sucede en dos niveles en este ejemplo. Si comienza en la parte superior de nuestro plano de aplicación, donde nuestro plano de aplicación recibe solicitudes de tres inquilinos separados, notará que aquí hay un marcador de posición conceptual para un enrutador. Este enrutador debe aceptar solicitudes de todos los inquilinos y utilizar el contexto del inquilino inyectado (que analizamos anteriormente) para determinar cómo y dónde enrutar cada solicitud. Además, dentro del cuadro del inquilino 2/3 a la derecha, verá que hay otro marcador de posición para el enrutamiento que determinará qué instancia del servicio de pedidos recibirá solicitudes (según el contexto del inquilino).
Veamos un par de ejemplos concretos para solucionar este problema. Supongamos que recibimos una solicitud del inquilino 1 para buscar un producto. Cuando el enrutador reciba esta solicitud, examinará el contexto del inquilino y enrutará el tráfico al servicio del producto de la izquierda (para el inquilino 1). Ahora, digamos que recibimos una solicitud del inquilino 3 para actualizar un producto que también debe actualizar un pedido. En este escenario, el enrutador de nivel superior enviaría la solicitud al servicio de producto compartido de la derecha (según el contexto del inquilino 2). Luego, el servicio del producto enviaría una solicitud al servicio de pedidos a través del enrutador de servicio a servicio. Este enrutador examinaría el contexto del inquilino, lo resolvería en el inquilino 2 y enviaría una solicitud al servicio de pedidos dedicado al inquilino 2.
Este ejemplo está destinado a resaltar la necesidad de construcciones de enrutamiento multiinquilino que puedan manejar las diversas implementaciones que podríamos tener en un entorno SaaS. Naturalmente, la tecnología y la estrategia que aplique aquí variarán según una serie de parámetros. También existe una rica colección de herramientas y tecnologías de enrutamiento, cada una de las cuales puede abordar esto de manera diferente. A menudo, esto se reduce a encontrar una herramienta que proporcione formas flexibles y eficientes de adquirir y enrutar dinámicamente el tráfico según el contexto del inquilino.
Veremos estas construcciones de enrutamiento aplicadas en soluciones específicas más adelante en este libro. En esta etapa, es importante comprender que el enrutamiento en entornos multiinquilino a menudo agrega un nuevo aspecto a nuestro modelo de enrutamiento de infraestructura.
### Implementación de aplicaciones multiinquilino
La implementación es un tema bastante bien entendido. Cada aplicación que cree requerirá alguna tecnología y herramientas DevOps que puedan implementar la versión inicial de su aplicación y cualquier actualización posterior. Si bien estos mismos conceptos se aplican al plano de aplicación de nuestro entorno multiinquilino, también descubrirá que diferentes tipos de modelos de aplicaciones de inquilino agregarán nuevas consideraciones a su modelo de implementación de aplicaciones.
Ya hemos señalado aquí que los inquilinos pueden tener una combinación de recursos dedicados y compartidos. Algunos pueden tener recursos totalmente dedicados, otros pueden haberlos compartido por completo y otros pueden tener una combinación de recursos dedicados y compartidos. Sabiendo esto, ahora debemos considerar cómo influirá esto en la implementación de DevOps de nuestra implementación de aplicaciones.
Imagine implementar una aplicación que tuviera dos microservicios dedicados y tres microservicios compartidos. En este modelo, nuestro código de automatización de implementación deberá tener cierta visibilidad en la configuración multiinquilino de nuestra aplicación SaaS. No se limitará a implementar servicios actualizados como lo haría en un entorno clásico. Será necesario consultar el perfil de implementación del inquilino y determinar qué inquilinos podrían necesitar una implementación separada de un microservicio para cada microservicio dedicado. Por lo tanto, los microservicios dentro de nuestro plano de aplicación pueden implementarse varias veces. Eso, y es posible que nuestro código de automatización de infraestructura deba aplicar el contexto del inquilino a la configuración y al perfil de seguridad de cada uno de estos microservicios.
Técnicamente, esto no forma parte directamente del plano de aplicación. Sin embargo, tiene una estrecha conexión con el diseño y las estrategias que aplicamos dentro del plano de aplicación. En general, encontrará que el plano de la aplicación y el aprovisionamiento de los entornos de inquilinos terminarán estando muy interconectados.
## La zona gris
Si bien los planos de control y aplicación cubren la mayoría de las construcciones fundamentales de arquitectura multiinquilino, todavía hay algunos conceptos que no encajan tan claramente en ninguno de estos planos. Al mismo tiempo, estas áreas todavía pertenecen al debate sobre temas fundamentales de SaaS. Si bien se podrían presentar argumentos para aterrizarlos en aviones específicos, para evitar el debate, voy a manejar estos pocos elementos por separado y abordaré los factores que podrían empujarlos a un avión u otro.
### niveles
La organización por niveles es una estrategia que la mayoría de los arquitectos han encontrado como parte del consumo de diversas ofertas de terceros. La idea básica aquí es que las empresas de SaaS utilicen niveles para crear diferentes variaciones de una oferta con precios separados. Por ejemplo, un proveedor de SaaS podría ofrecer a sus clientes niveles Básico, Avanzado y Premium donde cada nivel agrega valor adicional progresivamente. Los inquilinos del nivel básico pueden tener restricciones de rendimiento, número de usuarios, funciones, etc. Los inquilinos del nivel premium pueden tener mejores SLA, una mayor cantidad de usuarios y acceso a funciones adicionales.
El error que cometen algunos arquitectos y creadores de SaaS es que suponen que estos niveles son principalmente estrategias de precios y empaquetado. En realidad, la organización en niveles puede tener un impacto significativo en muchas de las dimensiones de su arquitectura multiinquilino. La estratificación se permite mediante la construcción de una arquitectura SaaS más flexible que ofrece a la empresa más oportunidades para crear límites de valor que de otro modo no habrían podido ofrecer.
La estratificación naturalmente se superpone a nuestra discusión sobre el contexto de los inquilinos, ya que el contexto que se comparte en nuestra arquitectura a menudo incluye una referencia al nivel de un inquilino determinado. Este nivel se aplica en toda la arquitectura y puede influir en el enrutamiento, la seguridad y una serie de otros aspectos de la implementación subyacente de su sistema.
En algunas implementaciones de niveles, veremos que los equipos colocan esto dentro de su plano de control como un concepto de primera clase. Es cierto que la incorporación a menudo incluye la necesidad de asignar el perfil de un inquilino a un nivel determinado. Los niveles también suelen estar correlacionados con un plan de facturación, que parecería natural mantenerlo dentro del alcance del plano de control. Al mismo tiempo, los niveles también se utilizan mucho dentro del plano de aplicación. Se pueden utilizar para configurar estrategias de enrutamiento o también se puede hacer referencia a ellos como parte de la configuración de políticas de limitación. La verdadera respuesta aquí es que la estratificación tiene cabida en ambos planos. Sin embargo, probablemente me inclinaría por colocarlo en el plano de control, ya que el nivel se puede administrar y devolver mediante interacciones con el plano de control (autenticación, por ejemplo). El nivel devuelto se puede adjuntar al contexto del inquilino y aplicarse a través de ese mecanismo dentro del plano de la aplicación.
### Usuarios de inquilino, administrador de inquilinos y administrador del sistema
El término "usuario" puede resultar fácilmente sobrecargado cuando hablamos de arquitectura SaaS. En un entorno multiinquilino, tenemos múltiples nociones de lo que significa ser un usuario, cada una de las cuales desempeña un papel distinto. La Figura 2-9 proporciona una vista conceptual de los diferentes tipos de usuarios que necesitará admitir en su solución multiinquilino.
￼
[Figura 2-9](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_09.png). Roles de usuario multiinquilino

En el lado izquierdo del diagrama, verá que tenemos los roles típicos relacionados con los inquilinos. Aquí hay dos tipos distintos de roles: administradores de inquilinos y usuarios de inquilinos. Un administrador de inquilinos representa el usuario inicial de su inquilino que está incorporado al sistema. Este usuario normalmente recibe privilegios de administrador. Esto les permite acceder a la funcionalidad única de administración de aplicaciones que se utiliza para configurar, administrar y mantener construcciones a nivel de aplicación. Esto incluye la posibilidad de crear nuevos usuarios inquilinos. Un usuario inquilino representa a los usuarios que utilizan la aplicación sin ninguna capacidad administrativa. A estos usuarios también se les pueden asignar diferentes roles basados en aplicaciones que influyen en su experiencia con la aplicación.
En el lado derecho del diagrama, verá que también tenemos administradores de sistemas. Estos usuarios están conectados al proveedor de SaaS y tienen acceso al plano de control de su entorno para administrar, operar y analizar el estado y la actividad de un entorno SaaS. Estos administradores también pueden tener diferentes roles que se utilizan para caracterizar sus privilegios administrativos. Algunos pueden tener acceso completo, otros pueden tener limitaciones en su capacidad para acceder o configurar diferentes vistas y configuraciones.
Notarás que también he mostrado una consola de administración como parte del plano de control. Esto representa una parte de la función de administrador del sistema que a menudo se pasa por alto. Está aquí para resaltar la necesidad de una consola de administración SaaS específica que se utilice para administrar, configurar y operar sus inquilinos. Por lo general, es algo que su equipo necesita crear para satisfacer las necesidades únicas de su entorno SaaS (aparte de otras herramientas que podrían usarse para administrar el estado de su sistema). Los usuarios administradores de su sistema necesitarán una experiencia de autenticación para poder acceder a esta consola de administración SaaS.
Los arquitectos de SaaS deben considerar cada uno de estos roles al crear un entorno multiinquilino. Si bien las funciones de los inquilinos suelen comprenderse mejor, muchos equipos invierten menos energía en las funciones de administrador del sistema. El proceso para introducir y gestionar el ciclo de vida de estos usuarios debe abordarse como parte de su diseño e implementación generales. Querrá tener un mecanismo seguro y repetible para administrar estos usuarios.
El debate entre el plano de control y el plano de aplicación es particularmente complicado cuando se trata de gestionar usuarios. No hay duda de que los usuarios administradores del sistema deben gestionarse a través del plano de control. De hecho, el diagrama inicial de los dos planos que se muestra al principio de este capítulo ( Figura 2-3 ) en realidad incluye un servicio de gestión de usuarios administradores como parte de su plano de control. Es cuando comienzas a discutir la ubicación de los usuarios inquilinos que las cosas se vuelven más confusas. Algunos argumentarían que la aplicación debería poseer la experiencia de administración de usuarios inquilinos y, por lo tanto, la administración de estos usuarios debería realizarse dentro del alcance del plano de la aplicación. Al mismo tiempo, nuestro proceso de incorporación de inquilinos debe poder crear las identidades de estos usuarios durante el proceso de incorporación, lo que sugiere que esto debería permanecer en el plano de control. Puedes ver cómo esto puede volverse circular rápidamente.
Mi preferencia general aquí, con salvedades, es que la identidad pertenezca al plano de control, especialmente porque aquí es donde el contexto del inquilino se conecta con las identidades del usuario. Este aspecto de la identidad nunca se gestionaría en el ámbito del plano de aplicación.
Se puede lograr un compromiso aquí haciendo que el plano de control administre la experiencia de identidad y autenticación y al mismo tiempo permita que la aplicación administre los atributos no relacionados con la identidad del inquilino fuera de la experiencia de identidad. La otra opción aquí sería tener un servicio de administración de usuarios de inquilinos en su plano de control que admita cualquier funcionalidad de administración de usuarios adicional que pueda necesitar su aplicación.
### Aprovisionamiento de inquilinos
Hasta ahora, hemos destacado el papel de la incorporación dentro del plano de control. También analizamos cómo el proceso de incorporación puede necesitar aprovisionar y configurar la infraestructura de aplicaciones como parte de la experiencia de incorporación. Esto plantea una pregunta importante: ¿debería el aprovisionamiento de inquilinos estar dentro del plano de control o del plano de aplicación?
La Figura 2-10 proporciona una vista conceptual de las dos opciones. A la izquierda, verá el modelo en el que se ejecuta el aprovisionamiento de inquilinos dentro del plano de la aplicación. En este escenario, todos los elementos de la incorporación (creación de inquilinos, configuración de facturación y configuración de identidad) todavía ocurren dentro del alcance del plano de control. El paso de aprovisionamiento lo desencadena y organiza el servicio de incorporación, pero se ejecuta dentro del plano de la aplicación.
￼
[Figura 2-10](https://learning.oreilly.com/api/v2/epubs/urn:orm:book:9781098140632/files/assets/multi_tenant_architecture_fundamentals_492971_10.png). Colocar el proceso de aprovisionamiento de inquilinos

El enfoque alternativo se muestra en el lado derecho de este diagrama. Aquí, el aprovisionamiento de inquilinos se ejecuta desde el plano de control. Esto significa que el aprovisionamiento de inquilinos ejecutaría scripts de configuración de infraestructura que se aplican dentro del plano de la aplicación. Esto coloca todas las partes móviles de la incorporación dentro del plano de control.
Para mí, las compensaciones se centran en la encapsulación y la abstracción del plano de aplicación. Si cree que la estructura y el espacio de la infraestructura de la aplicación deben ser desconocidos para el plano de control, entonces preferirá el modelo de la izquierda. Si cree firmemente que la incorporación ya es propiedad del plano de control, podría argumentar que es natural que también sea propietario del proceso de aprovisionamiento de la aplicación.
Mi tendencia aquí se inclina hacia mantener el aprovisionamiento más cercano a los recursos que se describen y configuran. Preferiría no realizar actualizaciones en el plano de control en función de cambios en la arquitectura del plano de aplicación. La desventaja aquí es que el plano de control debe admitir una experiencia de incorporación más distribuida y depender de la mensajería entre los planos de control y de aplicación para realizar un seguimiento del progreso/estado del aprovisionamiento. Ambos modelos tienen sus méritos. La clave aquí es que el aprovisionamiento debe ser una parte independiente de la experiencia de incorporación. Por lo tanto, si en algún momento decide moverlo, quedará algo encapsulado y podría moverse sin un replanteamiento significativo.
## Integración de planos de control y aplicación
Algunas organizaciones crearán límites muy específicos entre los planos de control y aplicación. Podría ser un límite de red o alguna otra construcción arquitectónica que separa estos dos planos. Esto tiene ventajas para algunas organizaciones porque permite configurar, gestionar y operar estos aviones en función de las necesidades únicas de cada avión. También introduce oportunidades para diseñar interacciones más seguras entre estos aviones.
Con esto en mente, podemos comenzar a considerar diferentes enfoques para integrar los planos de control y aplicación. La estrategia de integración que elija aquí estará fuertemente influenciada por la naturaleza de las interacciones entre los aviones, la huella geográfica de su solución y el perfil de seguridad de su entorno.
Algunos equipos pueden optar por un modelo menos acoplado que se base más en eventos/mensajes, mientras que otros pueden requerir una integración más nativa que permita un control más directo de los recursos del plano de la aplicación. Aquí hay pocos absolutos y hay una amplia gama de tecnologías que aportan diferentes posibilidades a esta discusión. La clave aquí es ser cuidadoso al elegir un modelo de integración que permita el nivel de control que se ajuste a las necesidades de su dominio, aplicación y entorno particulares.
### CONSEJO
Gran parte del debate aquí se inclina hacia un modelo en el que los planos de aplicación y control se implementan y gestionan en una infraestructura separada. Si bien los méritos de separar estos planos son convincentes, es importante señalar que no existe ninguna regla que sugiera que estos planos deban dividirse a lo largo de algún límite estricto. Existen escenarios válidos en los que un proveedor de SaaS puede optar por implementar los planos de control y aplicación en un entorno compartido. Las necesidades de su entorno, la naturaleza de su tecnología y una variedad de otras consideraciones determinarán cómo implementar estos planos con límites arquitectónicos más concretos. Aquí son claves para garantizar que divida su sistema en estos planos distintos, independientemente de cómo o dónde se implementen.
A medida que profundizamos en los detalles del plano de control, podemos observar los puntos de contacto comunes entre estos dos planos y entrar en los casos de uso de integración específicos y sus posibles soluciones. Por ahora, sin embargo, sólo hay que saber que la integración es una pieza clave del modelo general del plano de control/aplicación.
### Eligiendo tecnologías para sus aviones
Los equipos de SaaS eligen las tecnologías para implementar sus soluciones SaaS en función de una cantidad de variables diferentes. Conjuntos de habilidades, proveedores de nube, necesidades de dominio, consideraciones heredadas: estos son solo algunos de los muchos parámetros que intervienen en la selección de una tecnología para su oferta SaaS multiinquilino.
Ahora, cuando miramos SaaS a través de la lente de nuestros planos de control y aplicación, también es natural pensar en cómo las necesidades de estos dos planos podrían influir en su elección de tecnologías. Si elige un modelo completamente basado en contenedores para su plano de aplicación, ¿eso debería significar que su plano de control también debe implementarse con contenedores? La realidad aquí es que los aviones cubrirán diferentes necesidades y diferentes perfiles de consumo. No hay nada que sugiera que las tecnologías que utilizan deban coincidir de algún modo.
Considere, por ejemplo, el perfil de costes y consumo de su avión de control. Muchos de estos servicios pueden consumirse de forma más limitada que los servicios que se ejecutan en nuestro plano de aplicación. Podríamos favorecer la elección de una tecnología diferente para nuestro avión de control que produzca un modelo más rentable. Algunos equipos pueden optar por utilizar tecnologías sin servidor para implementar su plano de control.
Las decisiones también pueden ser mucho más granulares. Podría elegir una tecnología para algunos tipos de servicios y diferentes tecnologías para otros servicios. La clave aquí es que no debe asumir que el perfil, el consumo y el perfil de rendimiento de sus planos de control y aplicación serán los mismos. Como parte de la arquitectura de su entorno SaaS, desea considerar las necesidades tecnológicas de estos dos planos de forma independiente.
## Evitando los absolutos
Esta discusión sobre los conceptos de arquitectura SaaS dedicó mucha atención a definir la arquitectura SaaS a través de la lente de los planos de control y aplicación. Los planos nos brindan una forma natural de pensar en los diferentes componentes de una arquitectura multiinquilino y nos brindan un buen modelo mental para pensar en cómo las diferentes características de una arquitectura multiinquilino deberían integrarse en su entorno SaaS.
Si bien estas construcciones son útiles, también tendría cuidado al asociar absolutos a este modelo. Sí, es una buena manera de pensar en SaaS y nos proporciona un marco para hablar sobre cómo podemos abordar la creación de soluciones multiinquilino. Sin duda, me ha proporcionado una estructura poderosa para involucrar a los equipos que intentan diseñar y diseñar sus sistemas SaaS. También ha puesto énfasis en la necesidad de un conjunto de servicios compartidos que están fuera del alcance de la arquitectura multiinquilino de su aplicación.
Sin embargo, la clave aquí es utilizar estos conceptos para dar forma a la forma en que aborda su arquitectura SaaS, teniendo en cuenta el hecho de que puede haber matices en su entorno que pueden requerir variaciones en su enfoque. Se trata menos de ser absoluto sobre lo que hay en cada plano y más de crear una arquitectura que cree una división clara de responsabilidades y se alinee con la seguridad, la gestión y el perfil operativo de su oferta SaaS.
## Conclusión
Este capítulo trataba sobre la construcción de una base para los conceptos de arquitectura SaaS. Analizamos los elementos centrales de la arquitectura SaaS con el objetivo de enmarcar patrones y estrategias de arquitectura multiinquilino sin entrar en los detalles de ninguna tecnología o dominio en particular. Los conceptos que cubrimos aquí deben aplicarse a cualquier entorno SaaS y proporcionar a cualquier equipo con cualquier tecnología un modelo mental para abordar la arquitectura SaaS.
En realidad, aquí sólo hemos tocado la superficie de la arquitectura multiinquilino. A medida que avancemos, comenzaremos a mapear estos conceptos en ejemplos concretos que desvelen todos los detalles subyacentes y agreguen otra capa de consideraciones de diseño que construiremos sobre el modelo mental que hemos creado aquí. Esta capa adicional de detalles comenzará a ilustrar la red de posibilidades que necesitará navegar mientras considera cuál es la mejor manera de conectar las necesidades de su negocio SaaS con las realidades que conlleva la realización de estos principios con lenguajes, pilas de tecnología y herramientas que aporte su propio conjunto de variables a su ecuación multiinquilino.
Nuestro siguiente paso es empezar a analizar los modelos de implementación de SaaS. Esto nos hará pasar de pensar en conceptos a mapearlos y verlos aterrizar en diferentes patrones de implementación. El objetivo aquí es comenzar a pensar y aportar más claridad a las estrategias que se utilizan para respaldar los diversos modelos de SaaS que deberá considerar al darle forma a su arquitectura SaaS.
